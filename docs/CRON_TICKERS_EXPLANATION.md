# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ö–∞–∫–∏–µ —Ç–∏–∫–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron

## –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**–î–ê, –¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ MSFT, SNDK, GBPUSD=X**, –Ω–æ —Å –≤–∞–∂–Ω—ã–º–∏ –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏.

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

### 1. –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω (`update_prices_cron.py`)

```python
# scripts/update_prices_cron.py
update_all_prices()  # –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```

**–õ–æ–≥–∏–∫–∞:**
- –í—ã–∑—ã–≤–∞–µ—Ç `update_all_prices()` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `update_all_prices()` –∫–æ–≥–¥–∞ `tickers=None`, –±–µ—Ä–µ—Ç **–í–°–ï —Ç–∏–∫–µ—Ä—ã –∏–∑ –ë–î** —á–µ—Ä–µ–∑ `get_tracked_tickers(engine)`
- `get_tracked_tickers()` –¥–µ–ª–∞–µ—Ç `SELECT DISTINCT ticker FROM quotes`

**–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤ –ë–î:**
- –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `init_db.py` –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ: `["MSFT", "SNDK", "GBPUSD=X"]`
- –≠—Ç–∏ —Ç–∏–∫–µ—Ä—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–±–ª–∏—Ü—É `quotes`

**–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron:**
- ‚úÖ `update_prices_cron.py` –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ MSFT, SNDK, GBPUSD=X (–ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ –µ—Å—Ç—å –≤ –ë–î)

**–ù–û! –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∏–∫–µ—Ä—ã:**
- –ï—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å `python update_prices.py AAPL,TSLA`, —Ç–æ —ç—Ç–∏ —Ç–∏–∫–µ—Ä—ã –¥–æ–±–∞–≤—è—Ç—Å—è –≤ `quotes`
- –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ `update_prices_cron.py` –Ω–∞—á–Ω–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å **–í–°–ï —Ç–∏–∫–µ—Ä—ã** –∏–∑ –ë–î (–≤–∫–ª—é—á–∞—è AAPL, TSLA)

---

### 2. –°–∫—Ä–∏–ø—Ç —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ (`trading_cycle_cron.py`)

```python
# scripts/trading_cycle_cron.py
DEFAULT_TICKERS = ["MSFT", "SNDK", "GBPUSD=X"]

if len(sys.argv) > 1:
    tickers = [t.strip() for t in sys.argv[1].split(',')]
else:
    tickers = DEFAULT_TICKERS
```

**–õ–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫** `DEFAULT_TICKERS`
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

**–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron:**
- ‚úÖ `trading_cycle_cron.py` –±—É–¥–µ—Ç —Ç–æ—Ä–≥–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ MSFT, SNDK, GBPUSD=X
- ‚ùå –î–∞–∂–µ –µ—Å–ª–∏ –≤ –ë–î –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∏–∫–µ—Ä—ã, –æ–Ω–∏ **–ù–ï –±—É–¥—É—Ç** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏

---

## –í—ã–≤–æ–¥—ã

### –î–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä):

1. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω**: –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Ç–∏–∫–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ `quotes`
   - –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ: MSFT, SNDK, GBPUSD=X
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —á–µ—Ä–µ–∑ `update_prices.py`

2. **–¢–æ—Ä–≥–æ–≤—ã–π —Ü–∏–∫–ª**: –¢–æ—Ä–≥—É–µ—Ç —Ç–æ–ª—å–∫–æ MSFT, SNDK, GBPUSD=X (–∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–æ)
   - –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–∏–µ —Ç–∏–∫–µ—Ä—ã –µ—Å—Ç—å –≤ –ë–î

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∏–∫–µ—Ä–æ–≤ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑–º–µ–Ω–∏—Ç—å DEFAULT_TICKERS –≤ –∫–æ–¥–µ**
```python
# scripts/trading_cycle_cron.py
DEFAULT_TICKERS = ["MSFT", "SNDK", "GBPUSD=X", "AAPL"]  # –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª**
```python
# –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ config.env:
TRADING_TICKERS=MSFT,SNDK,GBPUSD=X,AAPL
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ cron**
```bash
# –í crontab –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
0 9,13,17 * * 1-5 cd $PROJECT_DIR && $PYTHON_PATH scripts/trading_cycle_cron.py MSFT,SNDK,GBPUSD=X,AAPL
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–µ–∫—É—â–∞—è):
- ‚úÖ MSFT - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –∞–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Mean Reversion
- ‚úÖ SNDK - –≤–æ–ª–∞—Ç–∏–ª—å–Ω–∞—è –∞–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Momentum/VolatileGap
- ‚úÖ GBPUSD=X - –≤–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ FX impact

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ç–∏–∫–µ—Ä–æ–≤:

1. **–î–æ–±–∞–≤–∏—Ç—å –≤ –ë–î –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω:**
   ```bash
   python update_prices.py AAPL,TSLA,GOOGL
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å –≤ —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–∏–∫–ª:**
   - –ò–∑–º–µ–Ω–∏—Ç—å `DEFAULT_TICKERS` –≤ `trading_cycle_cron.py`
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª

3. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cron:**
   ```bash
   ./setup_cron.sh
   ```

---

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron —á–µ—Ä–µ–∑ `./setup_cron.sh`:

- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω** (18:00 –µ–∂–µ–¥–Ω–µ–≤–Ω–æ): MSFT, SNDK, GBPUSD=X
- ‚úÖ **–¢–æ—Ä–≥–æ–≤—ã–π —Ü–∏–∫–ª** (9:00, 13:00, 17:00 –ø–Ω-–ø—Ç): MSFT, SNDK, GBPUSD=X

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã!** üéØ

---

## –°–º. —Ç–∞–∫–∂–µ

- [setup_cron.sh](../setup_cron.sh) - —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cron
- [scripts/update_prices_cron.py](../scripts/update_prices_cron.py) - —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω
- [scripts/trading_cycle_cron.py](../scripts/trading_cycle_cron.py) - —Å–∫—Ä–∏–ø—Ç —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- [update_prices.py](../update_prices.py) - –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω
- [init_db.py](../init_db.py) - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ —Ç–∏–∫–µ—Ä–∞–º–∏

